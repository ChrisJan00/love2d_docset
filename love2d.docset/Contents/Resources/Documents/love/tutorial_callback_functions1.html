<html class="client-nojs" dir="ltr" lang="en">
  <head>
    <meta charset="UTF-8"/>
    <title>Tutorial:Callback Functions - LOVE</title>
    <meta content="MediaWiki 1.24.2" name="generator"/>
    <link href="" rel="ExportRDF" title="Tutorial:Callback Functions" type="application/rdf+xml"/>
    <link href="favicon.ico" rel="shortcut icon"/>
    <link href="opensearch_desc.php" rel="search" title="LOVE (en)" type="application/opensearchdescription+xml"/>
    <link href="api.php_action_rsd" rel="EditURI" type="application/rsd+xml"/>
    <link href="" hreflang="x-default" rel="alternate"/>
    <link href="http://www.gnu.org/copyleft/fdl.html" rel="copyright"/>
    <link href="" rel="alternate" title="LOVE Atom feed" type="application/atom+xml"/>
    <link href="love_wiki_style.css" rel="stylesheet"/>
    <meta content="" name="ResourceLoaderDynamicStyles"/>
    <style>a:lang(ar),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}
/* cache key: love2d_wiki:resourceloader:filter:minify-css:7:daf253d59690fd9cabb6b95510bce103 */</style>
  </head>
  <body class="mediawiki ltr sitedir-ltr ns-500 ns-subject page-Tutorial_Callback_Functions skin-love action-view">
    <div id="globalWrapper">
      <div id="column-content">
        <div class="mw-body" id="content" role="main">
          <h1 class="firstHeading" id="firstHeading" lang="en">Tutorial:Callback Functions</h1>
          <div id="bodyContent">
            <div class="mw-content-ltr" dir="ltr" id="mw-content-text" lang="en">
              <p>The <a href="category_callbacks.html" title="Category:Callbacks">callback</a> functions in L&#xD6;VE are called by <a href="love40.html" title="love.run">love.run</a> to perform various tasks and are all optional. However, a fully-featured game experience would probably utilize nearly all of them, so it's wise to know what they are.
</p>
              <p>A callback, for those new to programming or otherwise unfamiliar with the term, is a function which works backwards in a sense. In a regular function like <a href="love.graphics29.html" title="love.graphics.draw">love.graphics.draw</a> or math.floor, you call it and L&#xD6;VE or Lua does something. A callback, on the other hand, is a function that you code and L&#xD6;VE calls at certain times. This makes it easy to keep your code organized and optimal. For example, since love.load will only get called once when the game is first started (before any other callback), it's a fine place to put code which loads game content and otherwise prepares things.
</p>
              <h2>
                <span class="mw-headline" id="love.load">
                  <a href="love47.html" title="love.load">love.load</a>
                </span>
              </h2>
              <div class="mw-geshi mw-code mw-content-ltr" dir="ltr">
                <div class="lua source-lua">
                  <pre class="de1"><span class="kw1">function</span> love<span class="sy0">.</span>load<span class="br0">(</span><span class="br0">)</span>
   image <span class="sy0">=</span> love<span class="sy0">.</span>graphics<span class="sy0">.</span>newImage<span class="br0">(</span><span class="st0">"cake.jpg"</span><span class="br0">)</span>
   love<span class="sy0">.</span>graphics<span class="sy0">.</span>setNewFont<span class="br0">(</span><span class="nu0">12</span><span class="br0">)</span>
   love<span class="sy0">.</span>graphics<span class="sy0">.</span>setColor<span class="br0">(</span><span class="nu0">0</span><span class="sy0">,</span><span class="nu0">0</span><span class="sy0">,</span><span class="nu0">0</span><span class="br0">)</span>
   love<span class="sy0">.</span>graphics<span class="sy0">.</span>setBackgroundColor<span class="br0">(</span><span class="nu0">255</span><span class="sy0">,</span><span class="nu0">255</span><span class="sy0">,</span><span class="nu0">255</span><span class="br0">)</span>
<span class="kw1">end</span></pre>
                </div>
              </div>
              <p>This function gets called only once, when the game is started, and is usually where you would load resources, initialize variables and set specific settings. All those things can be done anywhere else as well, but doing them here means that they are done once only, saving a lot of system resources. 
</p>
              <h2>
                <span class="mw-headline" id="love.update">
                  <a href="love48.html" title="love.update">love.update</a>
                </span>
              </h2>
              <div class="mw-geshi mw-code mw-content-ltr" dir="ltr">
                <div class="lua source-lua">
                  <pre class="de1"><span class="kw1">function</span> love<span class="sy0">.</span>update<span class="br0">(</span>dt<span class="br0">)</span>
   <span class="kw1">if</span> love<span class="sy0">.</span>keyboard<span class="sy0">.</span>isDown<span class="br0">(</span><span class="st0">"up"</span><span class="br0">)</span> <span class="kw1">then</span>
      num <span class="sy0">=</span> num <span class="sy0">+</span> <span class="nu0">100</span> <span class="sy0">*</span> dt <span class="co1">-- this would increment num by 100 per second</span>
   <span class="kw1">end</span>
<span class="kw1">end</span></pre>
                </div>
              </div>
              <p>This function is called continuously and will probably be where most of your math is done. 'dt' stands for "<a href="love.timer1.html" title="love.timer.getDelta">delta time</a>" and is the amount of seconds since the last time this function was called (which is usually a small value like 0.025714). 
</p>
              <h2>
                <span class="mw-headline" id="love.draw">
                  <a href="love49.html" title="love.draw">love.draw</a>
                </span>
              </h2>
              <div class="mw-geshi mw-code mw-content-ltr" dir="ltr">
                <div class="lua source-lua">
                  <pre class="de1"><span class="kw1">function</span> love<span class="sy0">.</span>draw<span class="br0">(</span><span class="br0">)</span>
   love<span class="sy0">.</span>graphics<span class="sy0">.</span>draw<span class="br0">(</span>image<span class="sy0">,</span> imgx<span class="sy0">,</span> imgy<span class="br0">)</span>
   love<span class="sy0">.</span>graphics<span class="sy0">.</span><span class="kw3">print</span><span class="br0">(</span><span class="st0">"Click and drag the cake around or use the arrow keys"</span><span class="sy0">,</span> <span class="nu0">10</span><span class="sy0">,</span> <span class="nu0">10</span><span class="br0">)</span>
<span class="kw1">end</span></pre>
                </div>
              </div>
              <p><code><a href="love49.html" title="love.draw">love.draw</a></code> is where all the drawing happens (if that wasn't obvious enough already) and if you call any of the <code><a href="love.graphics29.html" title="love.graphics.draw">love.graphics.draw</a></code> outside of this function then it's not going to have any effect. This function is also called continuously so keep in mind that if you change the font/color/mode/etc at the end of the function then it will have a effect on things at the beginning of the function. For example: 
</p>
              <div class="mw-geshi mw-code mw-content-ltr" dir="ltr">
                <div class="lua source-lua">
                  <pre class="de1"><span class="kw1">function</span> love<span class="sy0">.</span>load<span class="br0">(</span><span class="br0">)</span>
   love<span class="sy0">.</span>graphics<span class="sy0">.</span>setColor<span class="br0">(</span><span class="nu0">0</span><span class="sy0">,</span><span class="nu0">0</span><span class="sy0">,</span><span class="nu0">0</span><span class="br0">)</span>
<span class="kw1">end</span>
&#xA0;
<span class="kw1">function</span> love<span class="sy0">.</span>draw<span class="br0">(</span><span class="br0">)</span>
   love<span class="sy0">.</span>graphics<span class="sy0">.</span><span class="kw3">print</span><span class="br0">(</span><span class="st0">"This text is not black because of the line below"</span><span class="sy0">,</span> <span class="nu0">100</span><span class="sy0">,</span> <span class="nu0">100</span><span class="br0">)</span>
   love<span class="sy0">.</span>graphics<span class="sy0">.</span>setColor<span class="br0">(</span><span class="nu0">255</span><span class="sy0">,</span><span class="nu0">0</span><span class="sy0">,</span><span class="nu0">0</span><span class="br0">)</span>
   love<span class="sy0">.</span>graphics<span class="sy0">.</span><span class="kw3">print</span><span class="br0">(</span><span class="st0">"This text is red"</span><span class="sy0">,</span> <span class="nu0">100</span><span class="sy0">,</span> <span class="nu0">200</span><span class="br0">)</span>
<span class="kw1">end</span></pre>
                </div>
              </div>
              <h2>
                <span class="mw-headline" id="love.mousepressed">
                  <a href="love50.html" title="love.mousepressed">love.mousepressed</a>
                </span>
              </h2>
              <div class="mw-geshi mw-code mw-content-ltr" dir="ltr">
                <div class="lua source-lua">
                  <pre class="de1"><span class="kw1">function</span> love<span class="sy0">.</span>mousepressed<span class="br0">(</span>x<span class="sy0">,</span> y<span class="sy0">,</span> button<span class="br0">)</span>
   <span class="kw1">if</span> button <span class="sy0">==</span> <span class="st0">'l'</span> <span class="kw1">then</span>
      imgx <span class="sy0">=</span> x <span class="co1">-- move image to where mouse clicked</span>
      imgy <span class="sy0">=</span> y
   <span class="kw1">end</span>
<span class="kw1">end</span></pre>
                </div>
              </div>
              <p>This function is called whenever a mouse button is pressed and it receives the button and the coordinates of where it was pressed. The button can be any of the <a href="mouseconstant.html" title="MouseConstant">constants</a>. This function goes very well along with <code><a href="love51.html" title="love.mousereleased">love.mousereleased</a></code>. 
</p>
              <h2>
                <span class="mw-headline" id="love.mousereleased">
                  <a href="love51.html" title="love.mousereleased">love.mousereleased</a>
                </span>
              </h2>
              <div class="mw-geshi mw-code mw-content-ltr" dir="ltr">
                <div class="lua source-lua">
                  <pre class="de1"><span class="kw1">function</span> love<span class="sy0">.</span>mousereleased<span class="br0">(</span>x<span class="sy0">,</span> y<span class="sy0">,</span> button<span class="br0">)</span>
   <span class="kw1">if</span> button <span class="sy0">==</span> <span class="st0">'l'</span> <span class="kw1">then</span>
      fireSlingshot<span class="br0">(</span>x<span class="sy0">,</span>y<span class="br0">)</span> <span class="co1">-- this totally awesome custom function is defined elsewhere</span>
   <span class="kw1">end</span>
<span class="kw1">end</span></pre>
                </div>
              </div>
              <p>This function is called whenever a mouse button is released and it receives the button and the coordinates of where it was released. You can have this function together with <code><a href="love50.html" title="love.mousepressed">love.mousepressed</a></code> or separate, they aren't connected in any way. 
</p>
              <p>
                <br/>
              </p>
              <h2>
                <span class="mw-headline" id="love.keypressed">
                  <a href="love27.html" title="love.keypressed">love.keypressed</a>
                </span>
              </h2>
              <div class="mw-geshi mw-code mw-content-ltr" dir="ltr">
                <div class="lua source-lua">
                  <pre class="de1"><span class="kw1">function</span> love<span class="sy0">.</span>keypressed<span class="br0">(</span>key<span class="br0">)</span>
   <span class="kw1">if</span> key <span class="sy0">==</span> <span class="st0">'b'</span> <span class="kw1">then</span>
      text <span class="sy0">=</span> <span class="st0">"The B key was pressed."</span>
   <span class="kw1">elseif</span> key <span class="sy0">==</span> <span class="st0">'a'</span> <span class="kw1">then</span>
      a_down <span class="sy0">=</span> <span class="kw4">true</span>
   <span class="kw1">end</span>
<span class="kw1">end</span></pre>
                </div>
              </div>
              <p>This function is called whenever a keyboard key is pressed and receives the key that was pressed. The key can be any of the <a href="keyconstant.html" title="KeyConstant">constants</a>. This functions goes very well along with <code><a href="love28.html" title="love.keyreleased">love.keyreleased</a></code>.
</p>
              <h2>
                <span class="mw-headline" id="love.keyreleased">
                  <a href="love28.html" title="love.keyreleased">love.keyreleased</a>
                </span>
              </h2>
              <div class="mw-geshi mw-code mw-content-ltr" dir="ltr">
                <div class="lua source-lua">
                  <pre class="de1"><span class="kw1">function</span> love<span class="sy0">.</span>keyreleased<span class="br0">(</span>key<span class="br0">)</span>
   <span class="kw1">if</span> key <span class="sy0">==</span> <span class="st0">'b'</span> <span class="kw1">then</span>
      text <span class="sy0">=</span> <span class="st0">"The B key was released."</span>
   <span class="kw1">elseif</span> key <span class="sy0">==</span> <span class="st0">'a'</span> <span class="kw1">then</span>
      a_down <span class="sy0">=</span> <span class="kw4">false</span>
   <span class="kw1">end</span>
<span class="kw1">end</span></pre>
                </div>
              </div>
              <p>This function is called whenever a keyboard key is released and receives the key that was released. You can have this function together with <code><a href="love27.html" title="love.keypressed">love.keypressed</a></code> or separate, they aren't connected in any way. 
</p>
              <h2>
                <span class="mw-headline" id="love.focus">
                  <a href="love52.html" title="love.focus">love.focus</a>
                </span>
              </h2>
              <div class="mw-geshi mw-code mw-content-ltr" dir="ltr">
                <div class="lua source-lua">
                  <pre class="de1"><span class="kw1">function</span> love<span class="sy0">.</span>focus<span class="br0">(</span>f<span class="br0">)</span>
  <span class="kw1">if</span> <span class="kw2">not</span> f <span class="kw1">then</span>
    <span class="kw3">print</span><span class="br0">(</span><span class="st0">"LOST FOCUS"</span><span class="br0">)</span>
  <span class="kw1">else</span>
    <span class="kw3">print</span><span class="br0">(</span><span class="st0">"GAINED FOCUS"</span><span class="br0">)</span>
  <span class="kw1">end</span>
<span class="kw1">end</span></pre>
                </div>
              </div>
              <p>This function is called whenever the user clicks off and on the L&#xD6;VE window. For instance, if they are playing a windowed game and a user clicks on his Internet browser, the game could be notified and automatically pause the game.
</p>
              <div class="mw-geshi mw-code mw-content-ltr" dir="ltr">
                <div class="lua source-lua">
                  <pre class="de1"><span class="kw1">function</span> love<span class="sy0">.</span>focus<span class="br0">(</span>f<span class="br0">)</span> gameIsPaused <span class="sy0">=</span> <span class="kw2">not</span> f <span class="kw1">end</span>
&#xA0;
<span class="kw1">function</span> love<span class="sy0">.</span>update<span class="br0">(</span>dt<span class="br0">)</span>
	<span class="kw1">if</span> gameIsPaused <span class="kw1">then</span> <span class="kw1">return</span> <span class="kw1">end</span>
&#xA0;
	<span class="co1">-- The rest of your love.update code goes here</span>
<span class="kw1">end</span></pre>
                </div>
              </div>
              <h2>
                <span class="mw-headline" id="love.quit">
                  <a href="love53.html" title="love.quit">love.quit</a>
                </span>
              </h2>
              <div class="mw-geshi mw-code mw-content-ltr" dir="ltr">
                <div class="lua source-lua">
                  <pre class="de1"><span class="kw1">function</span> love<span class="sy0">.</span>quit<span class="br0">(</span><span class="br0">)</span>
  <span class="kw3">print</span><span class="br0">(</span><span class="st0">"Thanks for playing! Come back soon!"</span><span class="br0">)</span>
<span class="kw1">end</span></pre>
                </div>
              </div>
              <p>This function is called whenever the user clicks the windows close button (often an X). For instance, if the user decides they are done playing, they could click the close button. Then, before it closes, the game can save its state.
</p>
              <p>Those are the callback functions and their basic usage.
</p>
              <p>
                <br/>
              </p>
              <h2>
                <span class="mw-headline" id="Other_languages">Other languages</span>
              </h2>
            </div>
            <div class="catlinks" id="catlinks">
              <div class="mw-normal-catlinks" id="mw-normal-catlinks"><em>Category</em>: <ul><li><a href="category_tutorials.html" title="Category:Tutorials">Tutorials</a></li></ul></div>
            </div>
            <div class="visualClear"/>
          </div>
        </div>
      </div>
      <div class="visualClear"/>
      <div id="footer" role="contentinfo">
        <ul id="f-list">
          <li id="copyright">Content is available under <a class="external" href="http://www.gnu.org/copyleft/fdl.html" rel="nofollow">GNU Free Documentation License 1.3</a> unless otherwise noted.</li>
        </ul>
      </div>
    </div>
  </body>
</html>
