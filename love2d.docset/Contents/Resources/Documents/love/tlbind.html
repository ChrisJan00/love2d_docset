<html class="client-nojs" dir="ltr" lang="en">
  <head>
    <meta charset="UTF-8"/>
    <title>TLbind - LOVE</title>
    <meta content="MediaWiki 1.24.2" name="generator"/>
    <link href="" rel="ExportRDF" title="TLbind" type="application/rdf+xml"/>
    <link href="favicon.ico" rel="shortcut icon"/>
    <link href="opensearch_desc.php" rel="search" title="LOVE (en)" type="application/opensearchdescription+xml"/>
    <link href="api.php_action_rsd" rel="EditURI" type="application/rsd+xml"/>
    <link href="" hreflang="x-default" rel="alternate"/>
    <link href="http://www.gnu.org/copyleft/fdl.html" rel="copyright"/>
    <link href="" rel="alternate" title="LOVE Atom feed" type="application/atom+xml"/>
    <link href="love_wiki_style.css" rel="stylesheet"/>
    <meta content="" name="ResourceLoaderDynamicStyles"/>
    <style>a:lang(ar),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}
/* cache key: love2d_wiki:resourceloader:filter:minify-css:7:daf253d59690fd9cabb6b95510bce103 */</style>
  </head>
  <body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-TLbind skin-love action-view">
    <div id="globalWrapper">
      <div id="column-content">
        <div class="mw-body" id="content" role="main">
          <h1 class="firstHeading" id="firstHeading" lang="en">TLbind</h1>
          <div id="bodyContent">
            <div class="mw-content-ltr" dir="ltr" id="mw-content-text" lang="en">
              <h2>
                <span class="mw-headline" id="About">About</span>
              </h2>
              <p>TLbind is a system which turns a mass of keyboard/joystick input into easy-to-use game-oriented controls. Making this divide also makes it easy to rebind controls, enable or disable keyboard, mouse, or joystick input at will, and make digital and analogue input work easily together. It's goal is to make it simple to add professional-style configurable "2 sets of keys + optional joystick" controls to Love2D games.
</p>
              <p>It's under the <a class="external text" href="http://www.opensource.org/licenses/zlib-license.php" rel="nofollow">ZLIB license</a>.
</p>
              <h3>
                <span class="mw-headline" id="Download">Download</span>
              </h3>
              <p>
                <a class="external text" href="http://dl.dropbox.com/u/3713769/web/Love/TLTools/TLbind.lua" rel="nofollow">Direct from Dropbox</a>
              </p>
              <h3>
                <span class="mw-headline" id="Contact">Contact</span>
              </h3>
              <ul>
                <li>
                  <em class="external text" rel="nofollow">Forum thread</em>
                </li>
                <li>Taehl - SelfMadeSpirit@gmail.com</li>
              </ul>
              <p>
                <br/>
              </p>
              <h2>
                <span class="mw-headline" id="Setup">Setup</span>
              </h2>
              <h4>
                <span class="mw-headline" id="Procedural_style">Procedural style</span>
              </h4>
              <ol>
                <li>Add TLbind.lua to your game's folder</li>
                <li>In love.load, add the code <code>TLbind,control = love.filesystem.load("TLbind.lua")()</code></li>
                <li>In love.update(), add the code <code>TLbind:update()</code></li>
              </ol>
              <h4>
                <span class="mw-headline" id="Object-oriented_style">Object-oriented style</span>
              </h4>
              <ol>
                <li>Add TLbind.lua to your game's folder</li>
                <li>Assuming your player object is called "player", and you want its controls to be listed in player.control, use the code <code>player.binds, player.control = love.filesystem.load("TLbind.lua")()</code></li>
                <li>In your player object's update function (or otherwise once per frame), call <code>player.binds:update()</code></li>
                <li>TLbind itself acts like an object, so you can give each player their own separate TLbind (using <code>TLbind.giveInstance()</code>), if you so desire (could be handy for splitscreen)</li>
              </ol>
              <h2>
                <span class="mw-headline" id="FAQ">FAQ</span>
              </h2>
              <dl>
                <dt>Q) How do I know when a control is pressed?</dt>
                <dd>A) Whenever a control is pressed or held, control[control name] will be true. You could use it with a statement like <code>if control.up then</code>...</dd>
              </dl>
              <dl>
                <dt>Q) How do I change a control?</dt>
                <dd>A) To bind a "fire" control to the third button of joystick 1, for example, you could use <code>TLbind.joyBtns[1][3]="fire"</code>. From then on, control.fire would be true whenever Joy1 button 3 is pressed.</dd>
              </dl>
              <dl>
                <dt>Q) How do I know if the player has simply pressed the button, instead of holding it? What if I want to know when it's released?</dt>
                <dd>A) When any control is first pressed, control.tap[control name] will be true for one frame. Likewise, when it's released, control.released[control name] will be true for one frame. These would be used the same way you'd use a normal control - <code>if control.tap.jump then</code>. You can also use the control.controlPressed and control.controlReleased callbacks (see below).</dd>
              </dl>
              <dl>
                <dt>Q) How does TLbind handle mouse input?</dt>
                <dd>A) Clicking is bound to digital controls, like a joystick button. Cursor position is an analogue pair where the center of the screen is (0,0), the top-left corner is (-1,-1), and the bottom-right corner is (1,1). If the mouse position is bound to the same control as joystick axes, then the control will only use the mouse position when the joystick axes are centered. If you can't seem to move the mouse axes, ensure your joystick is centered (both axes are 0).</dd>
              </dl>
              <dl>
                <dt>Q) What functionality does TLbind have?</dt>
                <dd>A) It separates controls (things your game cares about "jump", "left", etc.) and input (spacebar, joystick coordinates, etc.). This allows a game's controls to be easily configured at any time; lets a game have multiple inputs per control (or controls per input); and makes coding simpler. It makes it easy to bridge analogue and digital control; disable keyboard or joystick input easily; detection of taps instead of holding (no more "hold jump to bounce over and over the second you touch the ground"); and can apply analogue "deadzones" (fixes the "drifting when not touching the stick" problem) and normalizing (preventing the all-too-common "you run faster diagonally" bug).</dd>
              </dl>
              <dl>
                <dt>Q) Is it hard to use?</dt>
                <dd>A) I tried to make it as simple as possible, and list example binds below. With six lines of code, you can give your game industry-standard WASD + Arrows + Gamepad controls.</dd>
              </dl>
              <dl>
                <dt>Q) What's the difference between digital and analogue controls, and how do you make them work together?</dt>
                <dd>A) In TLbind, digital controls are keys or buttons, and are represented as either true or false. Analogue controls take input from joystick axes or balls, and are represented as a decimal between -1 and 1, with 0 being centered. TLbind lets you map an analogue control to two digital controls, which makes the analogue input trigger the digital controls and the digital input push the analogue control to -1 or 1. As an example: If using the example binds below, pressing the joystick a little to the left might make control.horiz = -0.22191, control.left = true, and control.right = false.</dd>
              </dl>
              <p>
                <br/>
              </p>
              <h2>
                <span class="mw-headline" id="Functions">Functions</span>
              </h2>
              <h4>
                <span class="mw-headline" id="bind:update">bind:update</span>
              </h4>
              <div class="mw-geshi mw-code mw-content-ltr" dir="ltr">
                <div class="lua source-lua">
                  <pre class="de1">TLbind<span class="sy0">:</span>update<span class="br0">(</span><span class="br0">)</span></pre>
                </div>
              </div>
              <p>This updates the controls, and thus should be called once each frame. Please note that it has a colon, not a period.
</p>
              <h4>
                <span class="mw-headline" id="TLbind.giveInstance">TLbind.giveInstance</span>
              </h4>
              <div class="mw-geshi mw-code mw-content-ltr" dir="ltr">
                <div class="lua source-lua">
                  <pre class="de1">TLbind<span class="sy0">.</span>giveInstance<span class="br0">(</span> binds <span class="br0">)</span></pre>
                </div>
              </div>
              <p>This will create a new set of controls from the given binds table. Returns the new instance's binds, control, control.tap, and control.release. Good for OO-style programming, multiplayer controls, etc..
</p>
              <dl>
                <dt>
                  <code><a href="table.html" title="table">table</a> binds</code>
                </dt>
                <dd>A table of binds, as explained below.</dd>
              </dl>
              <h4>
                <span class="mw-headline" id="control.controlPressed">control.controlPressed</span>
              </h4>
              <div class="mw-geshi mw-code mw-content-ltr" dir="ltr">
                <div class="lua source-lua">
                  <pre class="de1">control<span class="sy0">.</span>controlPressed<span class="br0">(</span>c<span class="br0">)</span></pre>
                </div>
              </div>
              <p>This callback works just like <a href="love27.html" title="love.keypressed">love.keypressed</a>, except for controls (meaning it'll work properly with binding changes and joystick input). It gets called exactly once when a control is activated.
</p>
              <dl>
                <dt>
                  <code><a href="string.html" title="string">string</a> c</code>
                </dt>
                <dd>The name of the control that was pressed.</dd>
              </dl>
              <h4>
                <span class="mw-headline" id="control.controlReleased">control.controlReleased</span>
              </h4>
              <div class="mw-geshi mw-code mw-content-ltr" dir="ltr">
                <div class="lua source-lua">
                  <pre class="de1">control<span class="sy0">.</span>controlReleased<span class="br0">(</span>c<span class="br0">)</span></pre>
                </div>
              </div>
              <p>This callback works just like <a href="love28.html" title="love.keyreleased">love.keyreleased</a>, except for controls.
</p>
              <dl>
                <dt>
                  <code><a href="string.html" title="string">string</a> c</code>
                </dt>
                <dd>The name of the control that was released.</dd>
              </dl>
              <p>
                <br/>
              </p>
              <h2>
                <span class="mw-headline" id="Input_types_and_configuration">Input types and configuration</span>
              </h2>
              <p>Bindings are managed under TLbind (procedural example / default) or player.binds (OOP example). A list of bindings is a table, grouped together by input, joystick number, etc.. For clarity, please refer to the following terminology:
</p>
              <ul>
                <li><i>Control</i> - an abstract, game-centric variable which will either equal true/false (for digital controls) or a number between -1 and 1 (analogue controls). Controls can have any name you want to give them, but each name must be unique.</li>
                <li><i>Input</i> - the signal a keyboard or joystick gives off when manipulated. Love2D defines these as <a href="keyconstant.html" title="KeyConstant">KeyConstants</a>, <a href="mouseconstant.html" title="MouseConstant">MouseConstants</a>, <a class="mw-redirect" href="joystickhat.html" title="JoystickConstant">JoystickConstants</a>, joystick numbers, and joystick button, axis, hat, and ball numbers.</li>
                <li><i>Bind</i> - the link between input and controls. "When this input is triggered, set that control". Each input can be bound to only one control, but a control may be bound to many inputs.</li>
                <li><i>Map</i> - links an analogue control to two digital controls. Mapping makes it simpler to work with analogue controls since you don't have to worry about whether or not the player is using analogue or digital input.</li>
              </ul>
              <h4>
                <span class="mw-headline" id="bind.keys">bind.keys</span>
              </h4>
              <p>This is for keyboard keys. It's a table where the keys are <a href="keyconstant.html" title="KeyConstant">KeyConstants</a> and the values are the names of controls. In other words, you make bindings in the format <code>TLbind.keys.<a href="keyconstant.html" title="KeyConstant">KeyConstant</a> = "control"</code>. See
</p>
              <div class="mw-geshi mw-code mw-content-ltr" dir="ltr">
                <div class="lua source-lua">
                  <pre class="de1">TLbind<span class="sy0">.</span>keys <span class="sy0">=</span> <span class="br0">{</span>
	w<span class="sy0">=</span><span class="st0">"up"</span><span class="sy0">,</span> a<span class="sy0">=</span><span class="st0">"left"</span><span class="sy0">,</span> s<span class="sy0">=</span><span class="st0">"down"</span><span class="sy0">,</span> d<span class="sy0">=</span><span class="st0">"right"</span><span class="sy0">,</span> <span class="br0">[</span><span class="st0">" "</span><span class="br0">]</span><span class="sy0">=</span><span class="st0">"jump"</span><span class="sy0">,</span> lctrl<span class="sy0">=</span><span class="st0">"attack"</span><span class="sy0">,</span> escape<span class="sy0">=</span><span class="st0">"menu"</span><span class="sy0">,</span>
	up<span class="sy0">=</span><span class="st0">"up"</span><span class="sy0">,</span> left<span class="sy0">=</span><span class="st0">"left"</span><span class="sy0">,</span> down<span class="sy0">=</span><span class="st0">"down"</span><span class="sy0">,</span> right<span class="sy0">=</span><span class="st0">"right"</span><span class="sy0">,</span> z<span class="sy0">=</span><span class="st0">"jump"</span><span class="sy0">,</span> rctrl<span class="sy0">=</span><span class="st0">"attack"</span><span class="sy0">,</span>
<span class="br0">}</span></pre>
                </div>
              </div>
              <h4>
                <span class="mw-headline" id="bind.mouseAxes">bind.mouseAxes</span>
              </h4>
              <p>This is a table that binds the mouse x and y coordinates. It's in the form of <code>TLbind.mouseAxes[1 for x or 2 for y] = "control"</code>.
</p>
              <div class="mw-geshi mw-code mw-content-ltr" dir="ltr">
                <div class="lua source-lua">
                  <pre class="de1">TLbind<span class="sy0">.</span>mouseAxes <span class="sy0">=</span> <span class="br0">{</span> <span class="st0">"horiz"</span><span class="sy0">,</span> <span class="st0">"vert"</span> <span class="br0">}</span></pre>
                </div>
              </div>
              <h4>
                <span class="mw-headline" id="bind.mouseBtns">bind.mouseBtns</span>
              </h4>
              <p>This lists mouse buttons, in the form of <code>TLbind.mouseBtns.<a href="mouseconstant.html" title="MouseConstant">MouseConstant</a> = "control"</code>.
</p>
              <div class="mw-geshi mw-code mw-content-ltr" dir="ltr">
                <div class="lua source-lua">
                  <pre class="de1">TLbind<span class="sy0">.</span>mouseBtns <span class="sy0">=</span> <span class="br0">{</span> l<span class="sy0">=</span><span class="st0">"target"</span><span class="sy0">,</span> r<span class="sy0">=</span><span class="st0">"shoot"</span> <span class="br0">}</span></pre>
                </div>
              </div>
              <h4>
                <span class="mw-headline" id="bind.joyAxes">bind.joyAxes</span>
              </h4>
              <p>This is the list of joystick axes (the stick itself or gamepad thumbstick(s), but may also include rudders, etc.). Using bind.deadzoneAxes on axis pairs is highly recommended. It's in the form of <code>TLbind.joyAxes[joystick#][axis#] = "control"</code>.
</p>
              <div class="mw-geshi mw-code mw-content-ltr" dir="ltr">
                <div class="lua source-lua">
                  <pre class="de1">TLbind<span class="sy0">.</span>joyAxes <span class="sy0">=</span> <span class="br0">{</span> <span class="br0">{</span><span class="st0">"horiz"</span><span class="sy0">,</span> <span class="st0">"vert"</span><span class="br0">}</span> <span class="br0">}</span></pre>
                </div>
              </div>
              <h4>
                <span class="mw-headline" id="bind.joyBtns">bind.joyBtns</span>
              </h4>
              <p>This lists joystick buttons, in the form of <code>TLbind.joyBtns[joystick#][button#] = "control"</code>
</p>
              <div class="mw-geshi mw-code mw-content-ltr" dir="ltr">
                <div class="lua source-lua">
                  <pre class="de1">TLbind<span class="sy0">.</span>joyBtns <span class="sy0">=</span> <span class="br0">{</span> <span class="br0">{</span><span class="st0">"jump"</span><span class="sy0">,</span> <span class="st0">"attack"</span><span class="sy0">,</span> <span class="br0">[</span><span class="nu0">8</span><span class="br0">]</span><span class="sy0">=</span><span class="st0">"menu"</span><span class="br0">}</span> <span class="br0">}</span></pre>
                </div>
              </div>
              <h4>
                <span class="mw-headline" id="bind.joyBalls">bind.joyBalls</span>
              </h4>
              <p>This is for any ball device a joystick may be sporting. Since these are rare, it's advisable to not make your game depend on using one. Their binds are in form of <code>TLbind.joyBalls[joystick#][ball#] = {"x control", "y control"}</code>
</p>
              <div class="mw-geshi mw-code mw-content-ltr" dir="ltr">
                <div class="lua source-lua">
                  <pre class="de1">TLbind<span class="sy0">.</span>joyBalls <span class="sy0">=</span> <span class="br0">{</span> <span class="br0">{</span> <span class="br0">{</span><span class="st0">"horiz"</span><span class="sy0">,</span><span class="st0">"vert"</span><span class="br0">}</span><span class="sy0">,</span> <span class="br0">{</span><span class="st0">"yaw"</span><span class="sy0">,</span><span class="st0">"pitch"</span><span class="br0">}</span> <span class="br0">}</span> <span class="br0">}</span></pre>
                </div>
              </div>
              <h4>
                <span class="mw-headline" id="bind.joyHats">bind.joyHats</span>
              </h4>
              <p>This table is for joystick hats (those mini-thumbstick things seen on some joysticks). Please note that they're digital, not analogue. They're bound in the form of <code>TLbind.joyHats[joystick#][hat#] = {"l control", "r control", "u control", "d control"}</code>
</p>
              <div class="mw-geshi mw-code mw-content-ltr" dir="ltr">
                <div class="lua source-lua">
                  <pre class="de1">TLbind<span class="sy0">.</span>joyHats <span class="sy0">=</span> <span class="br0">{</span> <span class="br0">{</span><span class="br0">{</span><span class="st0">"left"</span><span class="sy0">,</span><span class="st0">"right"</span><span class="sy0">,</span><span class="st0">"up"</span><span class="sy0">,</span><span class="st0">"down"</span><span class="br0">}</span><span class="br0">}</span> <span class="br0">}</span></pre>
                </div>
              </div>
              <h4>
                <span class="mw-headline" id="bind.maps">bind.maps</span>
              </h4>
              <p>This table lists the analogue controls that should be mapped to and from digital controls. Using this, you can easily code for one type of input without having to worry about coding for the other type. They're created in the form of <code>TLbind.maps[analogue] = {"negative digital", "positive digital"}</code>
</p>
              <div class="mw-geshi mw-code mw-content-ltr" dir="ltr">
                <div class="lua source-lua">
                  <pre class="de1">TLbind<span class="sy0">.</span>maps <span class="sy0">=</span> <span class="br0">{</span> horiz<span class="sy0">=</span><span class="br0">{</span><span class="st0">"left"</span><span class="sy0">,</span><span class="st0">"right"</span><span class="br0">}</span><span class="sy0">,</span> vert<span class="sy0">=</span><span class="br0">{</span><span class="st0">"up"</span><span class="sy0">,</span><span class="st0">"down"</span><span class="br0">}</span> <span class="br0">}</span></pre>
                </div>
              </div>
              <h4>
                <span class="mw-headline" id="bind.deadzoneAxes">bind.deadzoneAxes</span>
              </h4>
              <p>This feature applies scaled radial deadzones to a pair of analogue controls. This prevents "stick drift" on old/cheap/uncalibrated devices. It also restricts the analogue pair to the inside of a circle, rather than the default square. Using this, you can avoid the classic "you move faster diagonally" bug. Pairs will reach about 0.7 when at a perfect 45-degree angle (but still reach a full 1 when straight). It's made in the form of <code>TLbind.deadzoneAxes[entry#] = {"analogue 1", "analogue 2"}</code>
</p>
              <div class="mw-geshi mw-code mw-content-ltr" dir="ltr">
                <div class="lua source-lua">
                  <pre class="de1">TLbind<span class="sy0">.</span>deadzoneAxes <span class="sy0">=</span> <span class="br0">{</span> <span class="br0">{</span><span class="st0">"horiz"</span><span class="sy0">,</span> <span class="st0">"vert"</span><span class="br0">}</span> <span class="br0">}</span></pre>
                </div>
              </div>
              <p>
                <br/>
              </p>
              <h2>
                <span class="mw-headline" id="A_note_about_Xbox_controllers">A note about Xbox controllers</span>
              </h2>
              <p>Microsoft has decided that Xbox controllers are the official gamepad for Windows, and as such, are the most common controller a player may have. Therefore, it's advisable to tailor your game's controls to work with them.
</p>
              <p>One important caveat about Xbox controllers: Both of their triggers (L2 and R2 for those of you more familiar with Playstations) are treated as <b>one axis</b>, rather than two buttons! Consider using the following binds to make up for it:
</p>
              <div class="mw-geshi mw-code mw-content-ltr" dir="ltr">
                <div class="lua source-lua">
                  <pre class="de1">joyAxes <span class="sy0">=</span> <span class="br0">{</span> <span class="br0">{</span><span class="br0">[</span><span class="nu0">3</span><span class="br0">]</span><span class="sy0">=</span><span class="st0">"triggers"</span><span class="br0">}</span> <span class="br0">}</span>			<span class="co1">-- r trigger is -1!</span>
maps <span class="sy0">=</span> <span class="br0">{</span> triggers<span class="sy0">=</span><span class="br0">{</span><span class="st0">"rtrig"</span><span class="sy0">,</span><span class="st0">"ltrig"</span><span class="br0">}</span> <span class="br0">}</span>	<span class="co1">-- ltrig and rtrig are the digital controls</span></pre>
                </div>
              </div>
              <p>
                <br/>
              </p>
              <p>
                <br/>
              </p>
              <p>
                <br/>
              </p>
            </div>
            <div class="catlinks" id="catlinks">
              <div class="mw-normal-catlinks" id="mw-normal-catlinks"><em>Category</em>: <ul><li><a href="category_libraries.html" title="Category:Libraries">Libraries</a></li></ul></div>
            </div>
            <div class="visualClear"/>
          </div>
        </div>
      </div>
      <div class="visualClear"/>
      <div id="footer" role="contentinfo">
        <ul id="f-list">
          <li id="copyright">Content is available under <a class="external" href="http://www.gnu.org/copyleft/fdl.html" rel="nofollow">GNU Free Documentation License 1.3</a> unless otherwise noted.</li>
        </ul>
      </div>
    </div>
  </body>
</html>
